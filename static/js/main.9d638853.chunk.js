(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{31:function(e){e.exports=JSON.parse('["unanswered","answered"]')},50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n(1),a=n(23),r=n.n(a),c=n(4);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,o=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),o(e),s(e),a(e),r(e)}))},u=n(14),l=n(16),d=n(15),j=n(18),b=n.n(j),h=n(36),v=n(6),O=n(2),m={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"../../images/snow.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"../../images/tyler.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"../../images/leaf.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionOne"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},x={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillian"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function p(e){return new Promise((function(t,n){var o=e.author,s=function(e){var t=e.optionOneText,n=e.optionTwoText,o=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:o,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}(e);setTimeout((function(){x=Object(O.a)(Object(O.a)({},x),{},Object(v.a)({},s.id,s)),m=Object(O.a)(Object(O.a)({},m),{},Object(v.a)({},o,Object(O.a)(Object(O.a)({},m[o]),{},{questions:m[o].questions.concat([s.id])}))),t(s)}),1e3)}))}var f=function(e){return function(e){var t=e.authedUser,n=e.qid,o=e.answer;return new Promise((function(e,s){setTimeout((function(){m=Object(O.a)(Object(O.a)({},m),{},Object(v.a)({},t,Object(O.a)(Object(O.a)({},m[t]),{},{answers:Object(O.a)(Object(O.a)({},m[t].answers),{},Object(v.a)({},n,o))}))),x=Object(O.a)(Object(O.a)({},x),{},Object(v.a)({},n,Object(O.a)(Object(O.a)({},x[n]),{},Object(v.a)({},o,Object(O.a)(Object(O.a)({},x[n][o]),{},{votes:x[n][o].votes.concat([t])}))))),e()}),500)}))}(e)},g="SET_AUTHED_USER",w="UNSET_AUTHED_USER",y=n(7),N=n(5),q=n(12),U=(n(50),function(e){return Object(o.jsxs)("div",{className:"d-flex justify-content-center align-items-center h-100",children:[Object(o.jsx)("svg",{width:"380px",height:"500px",viewBox:"0 0 837 1045",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:"d-none d-sm-block me-sm-4",children:Object(o.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(o.jsx)("path",{d:"M353,9 L626.664028,170 L626.664028,487 L353,642 L79.3359724,487 L79.3359724,170 L353,9 Z",className:"polygon",id:"Polygon-1",stroke:"var(--tylermcginnis)",strokeWidth:"6"}),Object(o.jsx)("path",{d:"M78.5,529 L147,569.186414 L147,648.311216 L78.5,687 L10,648.311216 L10,569.186414 L78.5,529 Z",className:"polygon",id:"Polygon-2",stroke:"#EF4A5B",strokeWidth:"6"}),Object(o.jsx)("path",{d:"M773,186 L827,217.538705 L827,279.636651 L773,310 L719,279.636651 L719,217.538705 L773,186 Z",className:"polygon",id:"Polygon-3",stroke:"#795D9C",strokeWidth:"6"}),Object(o.jsx)("path",{d:"M639,529 L773,607.846761 L773,763.091627 L639,839 L505,763.091627 L505,607.846761 L639,529 Z",className:"polygon",id:"Polygon-4",stroke:"var(--sarahedo)",strokeWidth:"6"}),Object(o.jsx)("path",{d:"M281,801 L383,861.025276 L383,979.21169 L281,1037 L179,979.21169 L179,861.025276 L281,801 Z",className:"polygon",id:"Polygon-5",stroke:"var(--johndoe)",strokeWidth:"6"})]})}),Object(o.jsxs)("div",{className:"message-box ms-sm-4",children:[Object(o.jsx)("h1",{children:"404"}),Object(o.jsx)("p",{children:"Page not found"}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("button",{className:"btn btn-link ps-0 me-3",onClick:e.history.goBack,children:[Object(o.jsx)(q.a,{}),Object(o.jsx)("span",{className:"ms-1",children:"Go Back"})]}),Object(o.jsxs)(y.b,{className:"btn btn-link ps-0 me-3",to:"/",children:[Object(o.jsx)(q.b,{}),Object(o.jsx)("span",{className:"ms-1",children:"Go Home"})]})]})})]})]})});U.defaultProps={history:{}};var S=U,T=[{text:"home",to:"/",icon:Object(o.jsx)(q.b,{})},{text:"leaderboard",to:"/leaderboard",icon:Object(o.jsx)(q.d,{})},{text:"new question",to:"/add",icon:Object(o.jsx)(q.c,{color:"#fff"})}],I=function(e,t){return Object.keys(e[t]&&e[t].answers||{}).length},k=function(e,t,n,o){var s,a,r=o||D(t,n);return((null===r||void 0===r||null===(s=r.optionOne)||void 0===s?void 0:s.votes)||[]).includes(e)||((null===r||void 0===r||null===(a=r.optionTwo)||void 0===a?void 0:a.votes)||[]).includes(e)},E=function(e,t){return Object.keys(e)<1&&Object.keys(t)<1},D=function(e,t){return t[e]},A=function(e,t,n,o){var s=function(e){return"answered"===t?k(o,null,null,e):!k(o,null,null,e)};return(n?Object.entries(e).map((function(e){return e[1]})).filter((function(e){return s(e)&&(null===e||void 0===e?void 0:e.author)===n})).map((function(e){return null===e||void 0===e?void 0:e.id})):Object.entries(e).map((function(e){return e[1]})).filter((function(e){return s(e)})).map((function(e){return null===e||void 0===e?void 0:e.id}))).reverse()},L=function(e,t){var n;return((null===(n=e[t])||void 0===n?void 0:n.questions)||[]).length},C=function(e,t){return t[e]},P=function(e){return Object.keys(e)},Q=function(e){return Object.values(e).sort((function(e,t){return Object.keys(t.answers).length+t.questions.length-(Object.keys(e.answers).length+e.questions.length)})).map((function(e){return e.id}))},R=(n(52),n.p+"static/media/leaf.90998857.jpg"),_=n.p+"static/media/snow.279b64a1.jpg",z=n.p+"static/media/tyler.b1b3df1e.jpg",V=function(e){var t=e.answeredQuestions,n=e.authedUser,s=e.className,a=e.onSetAuthedUser,r=e.submittedQuestions,c=e.unsetAuthedUser,i=e.user,u=e.userID||n,l=i.avatarURL,d=i.name,j=t+r;return Object(o.jsxs)("div",{className:"col-12 ".concat(s),onClick:function(){return a&&a(u)},children:[Object(o.jsxs)("div",{className:"user-info",children:[Object(o.jsx)("div",{className:"rounded-circle img-holder",children:Object(o.jsx)("img",{src:function(){var e=(l||"").split("/"),t=e.length,n=e[t-1].substr(0,e[t-1].indexOf("."));return{leaf:R,snow:_}[n]||z}(),className:"img-fluid",alt:u})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"card-title",children:d}),Object(o.jsxs)("p",{className:"text-muted card-id",children:["@",u]})]})]}),Object(o.jsxs)("div",{className:"user-info--extra",children:[Object(o.jsxs)("div",{className:"user-stats user-stats--individual text-center flex-row",children:[Object(o.jsxs)("div",{className:"user-stat flex-grow-1",children:[Object(o.jsx)("p",{className:"fw-bold mb-2 question-count",children:"answered"}),Object(o.jsx)("p",{className:"text-".concat(u," text-count"),children:t})]}),Object(o.jsxs)("div",{className:"user-stat flex-grow-1",children:[Object(o.jsx)("p",{className:"fw-bold mb-2 question-count",children:"submitted"}),Object(o.jsx)("p",{className:"text-".concat(u," text-count"),children:r})]})]}),Object(o.jsxs)("div",{className:"user-stats user-stats--total text-center",children:[Object(o.jsx)("p",{className:"text--".concat(u," display-4 fw-bold"),children:j}),Object(o.jsx)("p",{className:" text-uppercase question-count",children:"score"})]}),n===u&&Object(o.jsxs)("button",{className:"btn btn-danger w-100 rounded-pill",onClick:c,children:[Object(o.jsx)("span",{className:"d-none d-xl-block",children:"Logout"}),Object(o.jsx)("span",{className:"d-xl-none",children:Object(o.jsx)(q.e,{})})]})]})]})};V.defaultProps={answeredQuestions:0,authedUser:"",className:"",onSetAuthedUser:null,submittedQuestions:0,unsetAuthedUser:null,user:{},userID:""};var W=Object(c.connect)((function(e,t){var n=e.authedUser,o=e.users,s=t.userID;return{answeredQuestions:I(o,s||n),authedUser:n,submittedQuestions:L(o,s||n),user:C(s||n,o)}}),{unsetAuthedUser:function(){return function(e){return e({type:w})}}})(V),M=(n(53),function(e){var t=e.authedUser;return Object(o.jsx)("nav",{className:"navbar navbar-expand navbar-light fixed-top",id:"navbar",children:Object(o.jsxs)("div",{className:"container px-xl-4",children:[Object(o.jsx)(y.b,{className:"navbar-brand fw-bolder text-white fs-2 me-xl-5 my-xl-3",to:"/",children:"wyr."}),Object(o.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(o.jsx)("ul",{className:"navbar-nav ms-auto ms-xl-5 my-3",children:T.map((function(e){var t=e.icon,n=e.text,s=e.to;return Object(o.jsx)("li",{className:"nav-item text-capitalize fw-bold",children:Object(o.jsx)(y.c,{className:"nav-link nav-link--custom mx-sm-3","aria-current":"page",to:s,exact:"/"===s,children:"new question"!==n?Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"d-xl-none fs-1",children:t}),Object(o.jsx)("span",{className:"d-none d-xl-block",children:n})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"d-xl-none fs-1",children:t}),Object(o.jsx)("span",{className:"d-none d-xl-block",children:n})]})})},n)}))}),t&&Object(o.jsx)("ul",{className:"navbar-nav ms-auto",children:Object(o.jsx)("li",{className:"nav-item text-capitalize fw-bold",children:Object(o.jsx)(W,{className:"card--navbar d-flex"})})})]})]})})});M.defaultProps={authedUser:""};var F=M,B=n.p+"static/media/unauthed-layout.9984465c.jpg",J=n.p+"static/media/authed-layout.38ac6be1.jpg",Z=(n(54),function(e){var t,n,s,a=e.authedUser,r=e.children,c=e.location;return Object(o.jsxs)("div",{className:"".concat(!a&&"h-100"," container--layout"),style:{backgroundImage:a||(null===c||void 0===c||null===(t=c.state)||void 0===t?void 0:t.isQuestionNotFound)?"url(".concat(J,")"):"url(".concat(B,")")},children:[Object(o.jsx)(F,{authedUser:a}),Object(o.jsx)("div",{className:"".concat(!a&&"h-100"," container px-4"),children:Object(o.jsxs)("div",{className:"row ".concat(a?"row--authed":"h-100 align-items-center"),children:[a&&!(null===c||void 0===c||null===(n=c.state)||void 0===n?void 0:n.isQuestionNotFound)&&Object(o.jsx)(W,{className:"card--authed col-xl-2\n            d-none d-xl-block position-fixed shadow py-3 px-4"}),Object(o.jsx)("div",{className:a&&!(null===c||void 0===c||null===(s=c.state)||void 0===s?void 0:s.isQuestionNotFound)?"col-12 col-xl offset-xl-3 mt-5 py-5 py-xl-0":"",children:r})]})})]})});Z.defaultProps={authedUser:""};var G=Z,H=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={optionOneText:"",optionTwoText:""},e.render=function(){var t=e.state,n=t.optionOneText,s=t.optionTwoText,a=e.props,r=a.authedUser,c=a.history;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Create New Question"}),Object(o.jsx)("p",{className:"text-muted",children:"Complete the question"}),Object(o.jsx)("p",{className:"lead mt-4 mb-2",children:"Would you rather..."}),Object(o.jsxs)("form",{className:"form w-50",children:[Object(o.jsx)("div",{className:"my-3",children:Object(o.jsx)("input",{type:"text",className:"form-control form-control--custom",placeholder:"Enter option one text here...",value:n,onChange:function(t){var n=t.target;return e.setState({optionOneText:n.value})},"aria-label":"Option One"})}),Object(o.jsx)("p",{className:"text-center fw-bold",children:"OR"}),Object(o.jsx)("div",{className:"my-3",children:Object(o.jsx)("input",{type:"text",className:"form-control form-control--custom",placeholder:"Enter option one text here...",value:s,onChange:function(t){var n=t.target;return e.setState({optionTwoText:n.value})},"aria-label":"Option Two"})}),Object(o.jsx)("button",{className:"btn bg-".concat(r,"\n            fw-bold px-3 py-1 my-2 rounded-pill text-white"),onClick:function(){return e.props.handleSaveQuestion({author:r,optionOneText:n,optionTwoText:s}).then((function(){return c.push("/")}))},type:"button",children:"Submit"})]})]})},e}return n}(s.Component);H.defaultProps={authedUser:"",handleSaveQuestion:function(){},history:{}};var K=Object(N.g)(Object(c.connect)((function(e){return{authedUser:e.authedUser}}),{handleSaveQuestion:function(e){return function(t){return function(e){return p(e)}(e).then((function(e){return t(function(e){return function(t,n){return t({type:"SAVE_QUESTION",questionID:e.id,question:e,userID:n().authedUser})}}(e))})).catch((function(e){return console.log(e)}))}}})(H)),Y=(n(55),function(e){var t=e.active,n=e.categories,s=e.onSetActiveCategory;return Object(o.jsx)("ul",{className:"nav nav-pills nav-fill",children:n.map((function(e){return Object(o.jsx)("li",{className:"nav-item",onClick:function(){return s(e)},children:Object(o.jsx)(y.b,{className:"nav-link ".concat(t===e&&"active"," nav-link--switch"),to:function(e){return{pathname:e.pathname}},children:e})},e)}))})});Y.defaultProps={active:"",categories:[],onSetActiveCategory:function(){}};var $=Y,X=function(e){var t,n,s,a;return Object(o.jsxs)("div",{className:"shadow my-3 p-3 rounded d-flex question-item align-items-center bg-white flex-wrap",children:[Object(o.jsx)("div",{className:"question--user-container just-width mb-3 mb-md-0 mx-auto",children:Object(o.jsx)(W,{className:"card--user-question",userID:null===(t=e.question)||void 0===t?void 0:t.author})}),Object(o.jsxs)("div",{className:"question-details flex-grow-1 ms-3 text-center",children:[Object(o.jsx)("h5",{children:"Would You Rather?"}),Object(o.jsxs)("p",{children:[null===(n=e.question)||void 0===n||null===(s=n.optionOne)||void 0===s?void 0:s.text,Object(o.jsx)("br",{}),"or..."]}),Object(o.jsx)(y.b,{to:"/questions/".concat(null===(a=e.question)||void 0===a?void 0:a.id),className:"btn btn-link mt-2",children:e.ifAnswered?"View results":"Answer Poll"})]})]})};X.defaultProps={ifAnswered:!1,question:{},questionID:""};var ee=Object(c.connect)((function(e,t){var n=e.authedUser,o=e.questions,s=t.questionID;return{ifAnswered:k(n,s,o),question:D(s,o)}}))(X),te=n(31),ne=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={activeCategory:"",questionIDs:[]},e.setActiveCategory=function(t){return e.setState((function(){return{activeCategory:t}}),e.setQuestionIDs(t,e.props.questions))},e.setQuestionIDs=function(t,n){var o=A(n,t,e.props.authorID,e.props.authedUser)||[];e.setState((function(){return{questionIDs:o}}))},e.componentDidMount=function(){return e.setActiveCategory(te[0])},e.render=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)($,{categories:te,active:e.state.activeCategory,onSetActiveCategory:e.setActiveCategory}),e.state.questionIDs.length>0?e.state.questionIDs.map((function(e){return Object(o.jsx)(ee,{questionID:e},e)})):Object(o.jsx)("h4",{className:"p-4 text-center",children:"No questions here"})]})},e}return n}(s.Component);ne.defaultProps={authedUser:"",authorID:"",questions:{}};var oe=Object(c.connect)((function(e){return{authedUser:e.authedUser,questions:e.questions}}))(ne),se=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={selectedOption:""},e.getKeyByValueText=function(e,t){return Object.keys(e).find((function(n){var o;return(null===(o=e[n])||void 0===o?void 0:o.text)===t}))},e.componentDidMount=function(){var t,n;return e.setState({selectedOption:e.getKeyByValueText(e.props.question,null===(t=e.props.question)||void 0===t||null===(n=t.optionOne)||void 0===n?void 0:n.text)})},e.render=function(){var t=e.props,n=t.authedUser,s=t.question,a=e.state.selectedOption;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{children:"Would You Rather"}),Object(o.jsxs)("form",{className:"form mt-3",children:[[null===s||void 0===s?void 0:s.optionOne,null===s||void 0===s?void 0:s.optionTwo].map((function(t){return Object(o.jsxs)("div",{className:"form-check pointer mb-2",children:[Object(o.jsx)("input",{"aria-label":null===t||void 0===t?void 0:t.text,className:"form-check-input",type:"radio",id:null===t||void 0===t?void 0:t.text,name:null===s||void 0===s?void 0:s.id,value:e.getKeyByValueText(s,null===t||void 0===t?void 0:t.text),checked:a===e.getKeyByValueText(s,null===t||void 0===t?void 0:t.text),onChange:function(t){var n=t.target;return e.setState({selectedOption:n.value})}}),Object(o.jsx)("label",{className:"form-check-label pointer",htmlFor:null===t||void 0===t?void 0:t.text,children:null===t||void 0===t?void 0:t.text})]},null===t||void 0===t?void 0:t.text)})),Object(o.jsx)("button",{className:"btn bg-".concat(null===s||void 0===s?void 0:s.author,"\n    rounded-pill text-white mt-3 px-4"),type:"button",onClick:function(){return e.props.handleSaveQuestionAnswer(n,null===s||void 0===s?void 0:s.id,a)},children:"Submit"})]})]})},e}return n}(s.Component);se.defaultProps={authedUser:"",handleSaveQuestionAnswer:function(){},question:{}};var ae=Object(c.connect)(null,{handleSaveQuestionAnswer:function(e,t,n){return function(o){return o({type:"SAVE_QUESTION_ANSWER",questionID:t,option:n,userID:e}),f({authedUser:e,qid:t,answer:n}).catch((function(s){o(function(e,t,n){return{type:"REMOVE_QUESTION_ANSWER",questionID:t,option:e,userID:n}}(n,t,e)),alert("An error occured. Try again ...")}))}}})(se),re=n(19),ce=function(e){var t,n,s=e.authedUser,a=e.question,r=[].concat(Object(re.a)((null===a||void 0===a||null===(t=a.optionOne)||void 0===t?void 0:t.votes)||[]),Object(re.a)((null===a||void 0===a||null===(n=a.optionTwo)||void 0===n?void 0:n.votes)||[])).length;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{children:"Results:"}),[null===a||void 0===a?void 0:a.optionOne,null===a||void 0===a?void 0:a.optionTwo].map((function(e){var t,n=null===e||void 0===e||null===(t=e.votes)||void 0===t?void 0:t.length,a=Math.round(n/r*100),c=((null===e||void 0===e?void 0:e.votes)||[]).includes(s);return Object(o.jsxs)("div",{className:"card ".concat(c&&"bg-".concat(s," text-white")," mt-5 p-3"),children:[Object(o.jsxs)("p",{className:"lead",children:["Would you rather ",null===e||void 0===e?void 0:e.text,"?"]}),c&&Object(o.jsxs)("span",{className:"shadow bg-white text--".concat(s,"\n              py-2 px-3 position-absolute rounded-circle fw-bolder"),style:{right:"-10px",top:"-30px"},children:["Your",Object(o.jsx)("br",{}),"Vote"]}),Object(o.jsx)("div",{className:"progress my-1",style:{height:"20px"},children:Object(o.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(a,"%")},"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100",children:"".concat(a,"%")})}),Object(o.jsx)("p",{className:"fw-bolder x-large",children:"".concat(n," out of ").concat(r)})]},null===e||void 0===e?void 0:e.text)}))]})};ce.defaultProps={authedUser:"",question:{}};var ie=ce,ue=function(e){var t=e.authedUser,n=e.match,s=e.ifAnswered,a=e.question;return(null===a||void 0===a?void 0:a.id)?Object(o.jsxs)("div",{className:"card card--question-display d-flex flex-wrap align-items-center py-3 my-5 my-xl-0",children:[console.log(n),Object(o.jsx)("div",{className:"just-width mx-auto mb-3 mb-sm-0 text-center px-4",children:Object(o.jsx)(W,{userID:null===a||void 0===a?void 0:a.author})}),Object(o.jsxs)("div",{className:"flex-grow-1 py-2 px-4 border border-secondary border-top-0 border-end-0 border-bottom-0",children:[s?Object(o.jsx)(ie,{authedUser:t,question:a}):Object(o.jsx)(ae,{authedUser:t,question:a}),Object(o.jsx)("p",{className:"mt-3 float-end",children:Object(o.jsx)(y.b,{to:"/",className:"btn bg-light--custom rounded-pill fw-bold mx-auto",children:"Go Home"})})]})]}):Object(o.jsx)(N.a,{to:{pathname:"/404",state:{isQuestionNotFound:!0}}})};ue.defaultProps={authedUser:"",ifAnswered:!1,question:{},questionID:""};var le=Object(N.g)(Object(c.connect)((function(e,t){var n,o,s=e.authedUser,a=e.questions,r=t.match,c=t.question;return{authedUser:s,ifAnswered:k(s,null===r||void 0===r||null===(n=r.params)||void 0===n?void 0:n.question_id,a,c),question:D(null===r||void 0===r||null===(o=r.params)||void 0===o?void 0:o.question_id,a)}}))(ue)),de=function(e){var t,n,s;return e.authedUser?Object(o.jsx)(N.a,{to:null===(t=e.location)||void 0===t||null===(n=t.state)||void 0===n||null===(s=n.from)||void 0===s?void 0:s.pathname}):Object(o.jsxs)("div",{className:"col-12 col-xl-5",children:[Object(o.jsx)("h2",{className:"mb-3",children:"Login as:"}),Object(o.jsx)("div",{className:"row row-cols-1",children:e.userIDs.map((function(t){return Object(o.jsx)(W,{className:"card--auth card--auth--".concat(t,"\n            shadow mb-2 mb-sm-4 p-3"),userID:t,onSetAuthedUser:e.setAuthedUser},t)}))})]})};de.defaultProps={authedUser:"",location:{},setAuthedUser:function(){},userIDs:[]};var je=Object(c.connect)((function(e){var t=e.authedUser,n=e.users;return{authedUser:t,userIDs:P(n)}}),{setAuthedUser:function(e){return{type:g,userID:e}}})(de),be=n(37),he=function(e){var t=e.authedUser,n=e.children,s=Object(be.a)(e,["authedUser","children"]);return Object(o.jsx)(N.b,Object(O.a)(Object(O.a)({},s),{},{render:function(e){var s=e.location;return t?Object(o.jsx)(G,{authedUser:t,children:n}):Object(o.jsx)(N.a,{to:{pathname:"/login",state:{from:s}}})}}))};he.defaultProps={authedUser:"",children:Object(o.jsx)("div",{})};var ve=Object(c.connect)((function(e){return{authedUser:e.authedUser}}))(he),Oe=function(e){return e.userIDs.map((function(e){return Object(o.jsx)(W,{className:"card card--leaderboard mb-3",userID:e},e)}))};Oe.defaultProps={userIDs:[]};var me=Object(c.connect)((function(e){var t=e.users;return{userIDs:Q(t)}}))(Oe),xe=function(e){var t=e.authedUser;return Object(o.jsx)(y.a,{basename:"/would-you-rather",children:Object(o.jsxs)(N.d,{children:[Object(o.jsx)(N.b,{path:"/login",render:function(e){return Object(o.jsx)(G,{authedUser:t,children:Object(o.jsx)(je,Object(O.a)({},e))})}}),Object(o.jsx)(ve,{exact:!0,path:"/",children:Object(o.jsx)(oe,{})}),Object(o.jsx)(ve,{path:"/add",children:Object(o.jsx)(K,{})}),Object(o.jsx)(ve,{path:"/leaderboard",children:Object(o.jsx)(me,{})}),Object(o.jsx)(ve,{path:"/questions/:question_id",children:Object(o.jsx)(le,{})}),Object(o.jsx)(N.b,{render:function(e){return Object(o.jsx)(G,Object(O.a)(Object(O.a)({authedUser:t},e),{},{children:Object(o.jsx)(S,Object(O.a)({},e))}))}})]})})};xe.defaultProps={authedUser:""};var pe=Object(c.connect)((function(e){return{authedUser:e.authedUser}}))(xe),fe=(n(56),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){return e.props.handleInitialData()},e.render=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(b.a,{}),!e.props.loading&&Object(o.jsx)(pe,{})]})},e}return n}(s.Component)),ge=Object(c.connect)((function(e){var t=e.questions,n=e.users;return{loading:E(t,n)}}),{handleInitialData:function(){return function(e){return e(Object(j.showLoading)()),Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(O.a)({},m))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(O.a)({},x))}),1e3)}))]).then((function(e){var t=Object(h.a)(e,2);return{users:t[0],questions:t[1]}})).then((function(t){var n=t.questions,o=t.users;e(function(e){return{type:"RECEIVE_QUESTIONS",questions:e}}(n)),e(function(e){return{type:"RECEIVE_USERS",users:e}}(o)),e(Object(j.hideLoading)())}))}}})(fe),we=n(13),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.userID;case w:return null;default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=null===t||void 0===t?void 0:t.questionID,o=null===t||void 0===t?void 0:t.option,s=o?Object(O.a)(Object(O.a)({},e[n][o]),{},{votes:[].concat(Object(re.a)(e[n][o].votes),[t.userID])}):e[n]&&e[n][o],a=o?Object(O.a)(Object(O.a)({},e[n][o]),{},{votes:(e[n][o].votes||[]).filter((function(e){return e!==t.userID}))}):e[n]&&e[n][o];return{RECEIVE_QUESTIONS:null===t||void 0===t?void 0:t.questions,SAVE_QUESTION:Object(O.a)(Object(O.a)({},e),{},Object(v.a)({},n,null===t||void 0===t?void 0:t.question)),SAVE_QUESTION_ANSWER:Object(O.a)(Object(O.a)({},e),{},Object(v.a)({},n,Object(O.a)(Object(O.a)({},e[n]),{},Object(v.a)({},o,s)))),REMOVE_QUESTION_ANSWER:Object(O.a)(Object(O.a)({},e),{},Object(v.a)({},n,Object(O.a)(Object(O.a)({},e[n]),{},Object(v.a)({},o,a))))}[t.type]||e},qe=function(){var e,t,n,o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,r=null===a||void 0===a?void 0:a.option,c=null===a||void 0===a?void 0:a.userID,i=null===a||void 0===a?void 0:a.questionID,u=i?[].concat(Object(re.a)((null===(e=s[c])||void 0===e?void 0:e.questions)||[]),[i]):null===(t=s[c])||void 0===t?void 0:t.questions,l=c?Object(O.a)(Object(O.a)({},s[c].answers),{},Object(v.a)({},i,r)):null===(n=s[c])||void 0===n?void 0:n.answers,d=c?Object(O.a)(Object(O.a)({},s[c].answers),{},Object(v.a)({},i,void 0)):null===(o=s[c])||void 0===o?void 0:o.answers;return{RECEIVE_USERS:Object(O.a)(Object(O.a)({},s),a.users),SAVE_QUESTION:Object(O.a)(Object(O.a)({},s),{},Object(v.a)({},c,Object(O.a)(Object(O.a)({},s[c]),{},{questions:u}))),REMOVE_QUESTION_ANSWER:Object(O.a)(Object(O.a)({},s),{},Object(v.a)({},c,Object(O.a)(Object(O.a)({},s[c]),{},{answers:d}))),SAVE_QUESTION_ANSWER:Object(O.a)(Object(O.a)({},s),{},Object(v.a)({},c,Object(O.a)(Object(O.a)({},s[c]),{},{answers:l})))}[a.type]||s},Ue=Object(we.c)({authedUser:ye,loadingBar:j.loadingBarReducer,questions:Ne,users:qe}),Se=n(35),Te=function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n);var o=t(n);return console.log("The new state: ",e.getState()),console.groupEnd(),o}}},Ie=Object(we.a)(Se.a,Te),ke=Object(we.d)(Ue,Ie);n(57);r.a.render(Object(o.jsx)(c.Provider,{store:ke,children:Object(o.jsx)(ge,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),i()}},[[58,1,2]]]);
//# sourceMappingURL=main.9d638853.chunk.js.map